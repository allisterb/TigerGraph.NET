function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
/* https://github.com/jonathantneal/closest */
(function(w,p){p=w.Element.prototype
if(!p.matches){p.matches=p.msMatchesSelector||function(s){var m=(this.document||this.ownerDocument).querySelectorAll(s);for(var i=0;m[i]&&m[i]!==e;++i);return!!m[i]}}
if(!p.closest){p.closest=function(s){var e=this;while(e&&e.nodeType==1){if(e.matches(s))return e;e=e.parentNode}return null}}})(this);
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC;a=self;b=a.TigerGraph=a.TigerGraph||{};c=b.Client=b.Client||{};d=a.WebSharper=a.WebSharper||{};e=d.Obj=d.Obj||{};f=b.Base=b.Base||{};g=f.Runtime=f.Runtime||{};h=b.Runtime=b.Runtime||{};i=b.ApiClient=b.ApiClient||{};j=b.RuntimeModule=b.RuntimeModule||{};k=d.UI=d.UI||{};l=k.Client=k.Client||{};m=l.Templates=l.Templates||{};n=k.Doc=k.Doc||{};o=d.JavaScript=d.JavaScript||{};p=o.Pervasives=o.Pervasives||{};q=d.Operators=d.Operators||{};r=a.EventTarget;s=a.Node;t=o.JS=o.JS||{};u=d.Collections=d.Collections||{};v=u.Dictionary=u.Dictionary||{};w=d.Unchecked=d.Unchecked||{};x=b.Logger=b.Logger||{};y=b.JSConLogger=b.JSConLogger||{};z=d.CancellationTokenSource=d.CancellationTokenSource||{};A=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};B=d.Arrays=d.Arrays||{};C=u.HashSet=u.HashSet||{};D=d.Seq=d.Seq||{};E=a.WindowOrWorkerGlobalScope;F=k.View=k.View||{};G=k.Docs=k.Docs||{};H=d.Numeric=d.Numeric||{};I=a.Error;J=d.InvalidOperationException=d.InvalidOperationException||{};K=u.DictionaryUtil=u.DictionaryUtil||{};L=a.Object;M=m.Prepare=m.Prepare||{};N=d.Slice=d.Slice||{};O=k.DomUtility=k.DomUtility||{};P=d.Enumerator=d.Enumerator||{};Q=u.KeyCollection=u.KeyCollection||{};R=k.DocElemNode=k.DocElemNode||{};S=a.CharacterData;T=k.An=k.An||{};U=l.Settings=l.Settings||{};V=k.Abbrev=k.Abbrev||{};W=V.Mailbox=V.Mailbox||{};X=d.Strings=d.Strings||{};Y=l.Attrs=l.Attrs||{};Z=Y.Dyn=Y.Dyn||{};_0=l.Docs=l.Docs||{};_1=_0.RunState=_0.RunState||{};_2=_0.NodeSet=_0.NodeSet||{};_3=k.AttrProxy=k.AttrProxy||{};_4=k.Snap=k.Snap||{};_5=d.Concurrency=d.Concurrency||{};_6=k.Anims=k.Anims||{};_7=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};_8=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};_9=P.T=P.T||{};_=k.Attrs=k.Attrs||{};$=V.Fresh=V.Fresh||{};ba=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};bb=k.AppendList=k.AppendList||{};bc=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};bd=_5.Scheduler=_5.Scheduler||{};be=k.Easing=k.Easing||{};bf=_5.AsyncBody=_5.AsyncBody||{};bg=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};bh=_5.CT=_5.CT||{};bi=V.HashSet=V.HashSet||{};bj=u.HashSetUtil=u.HashSetUtil||{};bk=d.List=d.List||{};bl=bk.T=bk.T||{};bm=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};bn=k.Var=k.Var||{};bo=k.BindVar=k.BindVar||{};bp=k.String=k.String||{};bq=k.CheckedInput=k.CheckedInput||{};br=k.Array=k.Array||{};bs=_0.DomNodes=_0.DomNodes||{};bt=d.Char=d.Char||{};bu=d.OperationCanceledException=d.OperationCanceledException||{};bv=d.Lazy=d.Lazy||{};bw=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};bx=d.LazyExtensionsProxy=d.LazyExtensionsProxy||{};by=bx.LazyRecord=bx.LazyRecord||{};bz=a.IntelliFactory;bA=bz&&bz.Runtime;bB=a.Date;bC=a.console;c.Main=function(){new i.New();j.info("ff");return function(bD){m.LoadLocalTemplates("");n.RunById("main",bD);};};e=d.Obj=bA.Class({Equals:function(bD){return this===bD;},GetHashCode:function(){return -1;}},null,e);e.New=bA.Ctor(function(){},e);g.$cctor=function(){g.$cctor=a.ignore;g.set_Logger(null);g.$Cts=new z.New();g.$Ct=g.get_Cts();g.YY=X.Substring(a.String((new a.Date(bB.now())).getFullYear()),2,2);};g=f.Runtime=bA.Class({$init:function(){g.$cctor();this.set_Initialized(null);this.set_CancellationToken(null);},set_CancellationToken:function(bD){g.$cctor();this.$CancellationToken=bD;},set_Initialized:function(bD){g.$cctor();this.$Initialized=bD;}},e,g);g.SetLogger=function(bD){g.$cctor();g.set_Logger(bD);};g.get_Cts=function(){g.$cctor();return g.$Cts;};g.set_Logger=function(bD){g.$cctor();g.$Logger=bD;};g.get_Logger=function(){g.$cctor();return g.$Logger;};g.New=bA.Ctor(function(){g.$cctor();g.New$1.call(this,g.get_Cts());},g);g.New$1=bA.Ctor(function(bD){g.$cctor();this.$init();if(w.Equals(g.get_Logger(),null)){throw new J.New("A logger is not assigned.");}this.set_CancellationToken(bD);},g);h.$cctor=function(){h.$cctor=a.ignore;g.SetLogger(new y.New());};h=b.Runtime=bA.Class({},g,h);h.New=bA.Ctor(function(){h.$cctor();g.New.call(this);},h);i=b.ApiClient=bA.Class({},h,i);i.New=bA.Ctor(function(){h.New.call(this);},i);j.info=function(bD){bC.info(bD);};m.LoadLocalTemplates=function(bD){!m.LocalTemplatesLoaded()?(m.set_LocalTemplatesLoaded(true),m.LoadNestedTemplates(self.document.body,"")):void 0;m.LoadedTemplates().set_Item(bD,m.LoadedTemplateFile(""));};m.LocalTemplatesLoaded=function(){A.$cctor();return A.LocalTemplatesLoaded;};m.set_LocalTemplatesLoaded=function(bD){A.$cctor();A.LocalTemplatesLoaded=bD;};m.LoadNestedTemplates=function(bD,bE){var bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS;function bF(bT){var bU,bV;if(!bG.ContainsKey(bT)){bU=(bV=null,[bH.TryGetValue(bT,{get:function(){return bV;},set:function(bW){bV=bW;}}),bV]);bU[0]?(bS.Add(bT),bH.Remove(bT),m.PrepareTemplateStrict(bE,{$:1,$0:bT},bU[1],{$:1,$0:bF})):bC.warn(bS.Contains(bT)?"Encountered loop when instantiating "+bT:"Local template does not exist: "+bT);}}bG=m.LoadedTemplateFile(bE);bH=new v.New$5();bI=bD.querySelectorAll("[ws-template]");for(bJ=0,bK=bI.length-1;bJ<=bK;bJ++){bL=bI[bJ];bM=bL.getAttribute("ws-template").toLowerCase();bL.removeAttribute("ws-template");bH.set_Item(bM,m.FakeRootSingle(bL));}bN=bD.querySelectorAll("[ws-children-template]");for(bO=0,bP=bN.length-1;bO<=bP;bO++){bQ=bN[bO];bR=bQ.getAttribute("ws-children-template").toLowerCase();bQ.removeAttribute("ws-children-template");bH.set_Item(bR,m.FakeRoot(bQ));}bS=new C.New$3();while(bH.count>0)bF(D.head(bH.get_Keys()));};m.LoadedTemplates=function(){A.$cctor();return A.LoadedTemplates;};m.LoadedTemplateFile=function(bD){var bE,bF,bG;bE=(bF=null,[m.LoadedTemplates().TryGetValue(bD,{get:function(){return bF;},set:function(bH){bF=bH;}}),bF]);return bE[0]?bE[1]:(bG=new v.New$5(),(m.LoadedTemplates().set_Item(bD,bG),bG));};m.FakeRootSingle=function(bD){var bE,bF,bG,bH;bD.removeAttribute("ws-template");bE=bD.getAttribute("ws-replace");bE===null?void 0:(bD.removeAttribute("ws-replace"),bF=bD.parentNode,w.Equals(bF,null)?void 0:(bG=self.document.createElement(bD.tagName),bG.setAttribute("ws-replace",bE),bF.replaceChild(bG,bD)));bH=self.document.createElement("div");bH.appendChild(bD);return bH;};m.FakeRoot=function(bD){var bE;bE=self.document.createElement("div");while(bD.hasChildNodes())bE.appendChild(bD.firstChild);return bE;};m.PrepareTemplateStrict=function(bD,bE,bF,bG){var bH;function bI(bO,bP){var bQ,bR,bS,bT,bU,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce;function bV(cf){}while(true)switch(bO){case 0:if(bP!==null){bQ=bP.nextSibling;if(w.Equals(bP.nodeType,s.TEXT_NODE))M.convertTextNode(bP);else if(w.Equals(bP.nodeType,s.ELEMENT_NODE))bK(bP);bP=bQ;}else return null;break;case 1:bW=N.string(bP.nodeName,{$:1,$0:3},null).toLowerCase();bX=(bR=bW.indexOf("."),bR===-1?[bD,bW]:[N.string(bW,null,{$:1,$0:bR-1}),N.string(bW,{$:1,$0:bR+1},null)]);bY=bX[1];bZ=bX[0];if(bZ!==""&&!m.LoadedTemplates().ContainsKey(bZ))return M.failNotLoaded(bY);else{if(bZ===""&&bG!=null)bG.$0(bY);b0=m.LoadedTemplates().get_Item(bZ);if(!b0.ContainsKey(bY))return M.failNotLoaded(bY);else{b1=b0.get_Item(bY);b2=b1.cloneNode(true);b3=new C.New$3();b4=new v.New$5();b5=bP.attributes;for(b6=0,b7=b5.length-1;b6<=b7;b6++){b8=b5.item(b6).name.toLowerCase();b4.set_Item(b8,(b9=b5.item(b6).nodeValue,b9===""?b8:b9.toLowerCase()));!b3.Add(b8)?bC.warn("Hole mapped twice",b8):void 0;}for(b_=0,b$=bP.childNodes.length-1;b_<=b$;b_++){ca=bP.childNodes[b_];w.Equals(ca.nodeType,s.ELEMENT_NODE)?!b3.Add(ca.nodeName.toLowerCase())?bC.warn("Hole filled twice",bY):void 0:void 0;}cb=bP.childNodes.length===1&&w.Equals(bP.firstChild.nodeType,s.TEXT_NODE);if(cb){bT=M.fillTextHole(b2,bP.firstChild.textContent,bY);((function(cf){return function(cg){if(cg!=null)cf(cg.$0);};}((bU=function(cf){return function(cg){return cf.Add(cg);};}(b3),function(cf){return bV(bU(cf));})))(bT));}M.removeHolesExcept(b2,b3);if(!cb){for(cc=0,cd=bP.childNodes.length-1;cc<=cd;cc++){ce=bP.childNodes[cc];w.Equals(ce.nodeType,s.ELEMENT_NODE)?ce.hasAttributes()?M.fillInstanceAttrs(b2,ce):bJ(b2,ce):void 0;}}M.mapHoles(b2,b4);M.fill(b2,bP.parentNode,bP);bP.parentNode.removeChild(bP);return;}}break;}}function bJ(bO,bP){var bQ,bS,bT;function bR(bU,bV){var bW;if(bS==="title"&&bP.hasChildNodes()){bW=O.ParseHTMLIntoFakeRoot(bP.textContent);bP.removeChild(bP.firstChild);while(bW.hasChildNodes())bP.appendChild(bW.firstChild);}else null;bK(bP);return M.fill(bP,bU,bV);}bS=bP.nodeName.toLowerCase();m.foreachNotPreserved(bO,"[ws-attr-holes]",function(bU){var bV,bW,bX,bY,bZ;bV=X.SplitChars(bU.getAttribute("ws-attr-holes"),[" "],1);for(bW=0,bX=bV.length-1;bW<=bX;bW++){bY=B.get(bV,bW);bU.setAttribute(bY,(bZ=new a.RegExp("\\${"+bS+"}","ig"),bU.getAttribute(bY).replace(bZ,bP.textContent)));}});bT=bO.querySelector("[ws-hole="+bS+"]");if(w.Equals(bT,null)){bQ=bO.querySelector("[ws-replace="+bS+"]");return w.Equals(bQ,null)?null:(bR(bQ.parentNode,bQ),void bQ.parentNode.removeChild(bQ));}else{while(bT.hasChildNodes())bT.removeChild(bT.lastChild);bT.removeAttribute("ws-hole");return bR(bT,null);}}function bK(bO){if(!bO.hasAttribute("ws-preserve"))if(X.StartsWith(bO.nodeName.toLowerCase(),"ws-"))bM(bO);else{M.convertAttrs(bO);bL(bO.firstChild);}}function bL(bO){return bI(0,bO);}function bM(bO){return bI(1,bO);}function bN(bO){var bP,bQ,bR,bS;while(true){bP=bO.querySelector("[ws-template]");if(w.Equals(bP,null)){bQ=bO.querySelector("[ws-children-template]");if(w.Equals(bQ,null))return null;else{bR=bQ.getAttribute("ws-children-template");bQ.removeAttribute("ws-children-template");m.PrepareTemplateStrict(bD,{$:1,$0:bR},bQ,null);bO=bO;}}else{bS=bP.getAttribute("ws-template");(m.PrepareSingleTemplate(bD,{$:1,$0:bS},bP))(null);bO=bO;}}}bH=(bE==null?"":bE.$0).toLowerCase();m.LoadedTemplateFile(bD).set_Item(bH,bF);bF.hasChildNodes()?(bN(bF),bL(bF.firstChild)):void 0;};m.foreachNotPreserved=function(bD,bE,bF){O.IterSelector(bD,bE,function(bG){if(bG.closest("[ws-preserve]")==null)bF(bG);});};m.PrepareSingleTemplate=function(bD,bE,bF){var bG;bG=m.FakeRootSingle(bF);return function(bH){m.PrepareTemplateStrict(bD,bE,bG,bH);};};m.TextHoleRE=function(){A.$cctor();return A.TextHoleRE;};n=k.Doc=bA.Class({},e,n);n.RunById=function(bD,bE){var bF;bF=self.document.getElementById(bD);w.Equals(bF,null)?q.FailWith("invalid id: "+bD):n.Run(bF,bE);};n.Run=function(bD,bE){G.LinkElement(bD,bE.docNode);n.RunInPlace(false,bD,bE);};n.RunInPlace=function(bD,bE,bF){var bG;bG=G.CreateRunState(bE,bF.docNode);F.Sink(T.get_UseAnimations()||U.BatchUpdatesEnabled()?W.StartProcessor(G.PerformAnimatedUpdate(bD,bG,bF.docNode)):function(){G.PerformSyncUpdate(bD,bG,bF.docNode);},bF.updates);};p.NewFromSeq=function(bD){var bE,bF,bG;bE={};bF=P.Get(bD);try{while(bF.MoveNext()){bG=bF.Current();bE[bG[0]]=bG[1];}}finally{if(typeof bF=="object"&&"Dispose"in bF)bF.Dispose();}return bE;};q.FailWith=function(bD){throw new I(bD);};q.KeyValue=function(bD){return[bD.K,bD.V];};t.GetFieldValues=function(bD){var bE,bF;bE=[];for(var bG in bD)bE.push(bD[bG]);return bE;};v=u.Dictionary=bA.Class({set_Item:function(bD,bE){this.set(bD,bE);},ContainsKey:function(bD){var bE,bF;bE=this;bF=this.data[this.hash(bD)];return bF==null?false:B.exists(function(bG){return bE.equals.apply(null,[(q.KeyValue(bG))[0],bD]);},bF);},TryGetValue:function(bD,bE){var bF,bG,bH;bF=this;bG=this.data[this.hash(bD)];return bG==null?false:(bH=B.tryPick(function(bI){var bJ;bJ=q.KeyValue(bI);return bF.equals.apply(null,[bJ[0],bD])?{$:1,$0:bJ[1]}:null;},bG),bH!=null&&bH.$==1&&(bE.set(bH.$0),true));},Remove:function(bD){return this.remove(bD);},get_Keys:function(){return new Q.New(this);},set:function(bD,bE){var bF,bG,bH,bI;bF=this;bG=this.hash(bD);bH=this.data[bG];bH==null?(this.count=this.count+1,this.data[bG]=new a.Array({K:bD,V:bE})):(bI=B.tryFindIndex(function(bJ){return bF.equals.apply(null,[(q.KeyValue(bJ))[0],bD]);},bH),bI==null?(this.count=this.count+1,bH.push({K:bD,V:bE})):bH[bI.$0]={K:bD,V:bE});},remove:function(bD){var bE,bF,bG,bH;bE=this;bF=this.hash(bD);bG=this.data[bF];return bG==null?false:(bH=B.filter(function(bI){return!bE.equals.apply(null,[(q.KeyValue(bI))[0],bD]);},bG),B.length(bH)<bG.length&&(this.count=this.count-1,this.data[bF]=bH,true));},get_Item:function(bD){return this.get(bD);},get:function(bD){var bE,bF;bE=this;bF=this.data[this.hash(bD)];return bF==null?K.notPresent():B.pick(function(bG){var bH;bH=q.KeyValue(bG);return bE.equals.apply(null,[bH[0],bD])?{$:1,$0:bH[1]}:null;},bF);},GetEnumerator:function(){return P.Get0(this);},GetEnumerator0:function(){return P.Get0(B.concat(t.GetFieldValues(this.data)));}},e,v);v.New$5=bA.Ctor(function(){v.New$6.call(this,[],w.Equals,w.Hash);},v);v.New$6=bA.Ctor(function(bD,bE,bF){var bG,bH;e.New.call(this);this.equals=bE;this.hash=bF;this.count=0;this.data=[];bG=P.Get(bD);try{while(bG.MoveNext()){bH=bG.Current();this.set(bH.K,bH.V);}}finally{if(typeof bG=="object"&&"Dispose"in bG)bG.Dispose();}},v);w.Equals=function(bD,bE){var bF,bG,bH,bI;if(bD===bE)return true;else{bF=typeof bD;if(bF=="object"){if(bD===null||bD===void 0||bE===null||bE===void 0)return false;else if("Equals"in bD)return bD.Equals(bE);else if(bD instanceof a.Array&&bE instanceof a.Array)return w.arrayEquals(bD,bE);else if(bD instanceof bB&&bE instanceof bB)return w.dateEquals(bD,bE);else{bG=[true];for(var bJ in bD)if(function(bK){bG[0]=!bD.hasOwnProperty(bK)||bE.hasOwnProperty(bK)&&w.Equals(bD[bK],bE[bK]);return!bG[0];}(bJ))break;if(bG[0]){for(var bK in bE)if(function(bL){bG[0]=!bE.hasOwnProperty(bL)||bD.hasOwnProperty(bL);return!bG[0];}(bK))break;}return bG[0];}}else return bF=="function"&&("$Func"in bD?bD.$Func===bE.$Func&&bD.$Target===bE.$Target:"$Invokes"in bD&&"$Invokes"in bE&&w.arrayEquals(bD.$Invokes,bE.$Invokes));}};w.arrayEquals=function(bD,bE){var bF,bG;if(B.length(bD)===B.length(bE)){bF=true;bG=0;while(bF&&bG<B.length(bD)){!w.Equals(B.get(bD,bG),B.get(bE,bG))?bF=false:void 0;bG=bG+1;}return bF;}else return false;};w.dateEquals=function(bD,bE){return bD.getTime()===bE.getTime();};w.Hash=function(bD){var bE;bE=typeof bD;return bE=="function"?0:bE=="boolean"?bD?1:0:bE=="number"?bD:bE=="string"?w.hashString(bD):bE=="object"?bD==null?0:bD instanceof a.Array?w.hashArray(bD):w.hashObject(bD):0;};w.hashString=function(bD){var bE,bF,bG;if(bD===null)return 0;else{bE=5381;for(bF=0,bG=bD.length-1;bF<=bG;bF++)bE=w.hashMix(bE,bD[bF].charCodeAt());return bE;}};w.hashArray=function(bD){var bE,bF,bG;bE=-34948909;for(bF=0,bG=B.length(bD)-1;bF<=bG;bF++)bE=w.hashMix(bE,w.Hash(B.get(bD,bF)));return bE;};w.hashObject=function(bD){var bE,bF;if("GetHashCode"in bD)return bD.GetHashCode();else{bE=[0];for(var bG in bD)if(function(bH){bE[0]=w.hashMix(w.hashMix(bE[0],w.hashString(bH)),w.Hash(bD[bH]));return false;}(bG))break;return bE[0];}};w.hashMix=function(bD,bE){return(bD<<5)+bD+bE;};w.Compare=function(bD,bE){var bF,bG,bH,bI,bJ,bK;if(bD===bE)return 0;else{bG=typeof bD;switch(bG=="function"?1:bG=="boolean"?2:bG=="number"?2:bG=="string"?2:bG=="object"?3:0){case 0:return typeof bE=="undefined"?0:-1;case 1:return q.FailWith("Cannot compare function values.");case 2:return bD<bE?-1:1;case 3:if(bD===null)bH=-1;else if(bE===null)bH=1;else if("CompareTo"in bD)bH=bD.CompareTo(bE);else if("CompareTo0"in bD)bH=bD.CompareTo0(bE);else if(bD instanceof a.Array&&bE instanceof a.Array)bH=w.compareArrays(bD,bE);else if(bD instanceof bB&&bE instanceof bB)bH=w.compareDates(bD,bE);else{bI=[0];for(var bL in bD)if(function(bM){return!bD.hasOwnProperty(bM)?false:!bE.hasOwnProperty(bM)?(bI[0]=1,true):(bI[0]=w.Compare(bD[bM],bE[bM]),bI[0]!==0);}(bL))break;if(bI[0]===0){for(var bM in bE)if(function(bN){return!bE.hasOwnProperty(bN)?false:!bD.hasOwnProperty(bN)&&(bI[0]=-1,true);}(bM))break;}bH=bI[0];}return bH;}}};w.compareArrays=function(bD,bE){var bF,bG;if(B.length(bD)<B.length(bE))return -1;else if(B.length(bD)>B.length(bE))return 1;else{bF=0;bG=0;while(bF===0&&bG<B.length(bD)){bF=w.Compare(B.get(bD,bG),B.get(bE,bG));bG=bG+1;}return bF;}};w.compareDates=function(bD,bE){return w.Compare(bD.getTime(),bE.getTime());};x=b.Logger=bA.Class({$init:function(){this.set_IsConfigured(false);},set_IsConfigured:function(bD){this.$IsConfigured=bD;}},e,x);x.New=bA.Ctor(function(){this.$init();},x);y=b.JSConLogger=bA.Class({},x,y);y.New=bA.Ctor(function(){x.New.call(this);},y);z=d.CancellationTokenSource=bA.Class({},e,z);z.New=bA.Ctor(function(){e.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},z);A.$cctor=function(){A.$cctor=a.ignore;A.LoadedTemplates=new v.New$5();A.LocalTemplatesLoaded=false;A.GlobalHoles=new v.New$5();A.TextHoleRE="\\${([^}]+)}";A.RenderedFullDocTemplate=null;};B.get=function(bD,bE){B.checkBounds(bD,bE);return bD[bE];};B.checkBounds=function(bD,bE){if(bE<0||bE>=bD.length)q.FailWith("Index was outside the bounds of the array.");};B.length=function(bD){return bD.dims===2?bD.length*bD.length:bD.length;};B.set=function(bD,bE,bF){B.checkBounds(bD,bE);bD[bE]=bF;};C=u.HashSet=bA.Class({Add:function(bD){return this.add(bD);},Contains:function(bD){var bE;bE=this.data[this.hash(bD)];return bE==null?false:this.arrContains(bD,bE);},add:function(bD){var bE,bF;bE=this.hash(bD);bF=this.data[bE];return bF==null?(this.data[bE]=[bD],this.count=this.count+1,true):this.arrContains(bD,bF)?false:(bF.push(bD),this.count=this.count+1,true);},arrContains:function(bD,bE){var bF,bG,bH,bI;bF=true;bG=0;bI=bE.length;while(bF&&bG<bI)if(this.equals.apply(null,[bE[bG],bD]))bF=false;else bG=bG+1;return!bF;},ExceptWith:function(bD){var bE;bE=P.Get(bD);try{while(bE.MoveNext())this.Remove(bE.Current());}finally{if(typeof bE=="object"&&"Dispose"in bE)bE.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(bD){var bE,bF,bG,bH;bE=0;bF=bj.concat(this.data);for(bG=0,bH=bF.length-1;bG<=bH;bG++)B.set(bD,bG,bF[bG]);},IntersectWith:function(bD){var bE,bF,bG,bH,bI;bE=new C.New$4(bD,this.equals,this.hash);bF=bj.concat(this.data);for(bG=0,bH=bF.length-1;bG<=bH;bG++){bI=bF[bG];!bE.Contains(bI)?this.Remove(bI):void 0;}},Remove:function(bD){var bE;bE=this.data[this.hash(bD)];return bE==null?false:this.arrRemove(bD,bE)&&(this.count=this.count-1,true);},arrRemove:function(bD,bE){var bF,bG,bH,bI;bF=true;bG=0;bI=bE.length;while(bF&&bG<bI)if(this.equals.apply(null,[bE[bG],bD])){bE.splice.apply(bE,[bG,1]);bF=false;}else bG=bG+1;return!bF;},GetEnumerator:function(){return P.Get(bj.concat(this.data));},GetEnumerator0:function(){return P.Get(bj.concat(this.data));}},e,C);C.New$3=bA.Ctor(function(){C.New$4.call(this,[],w.Equals,w.Hash);},C);C.New$4=bA.Ctor(function(bD,bE,bF){var bG;e.New.call(this);this.equals=bE;this.hash=bF;this.data=[];this.count=0;bG=P.Get(bD);try{while(bG.MoveNext())this.add(bG.Current());}finally{if(typeof bG=="object"&&"Dispose"in bG)bG.Dispose();}},C);C.New$2=bA.Ctor(function(bD){C.New$4.call(this,bD,w.Equals,w.Hash);},C);D.head=function(bD){var bE;bE=P.Get(bD);try{return bE.MoveNext()?bE.Current():D.insufficient();}finally{if(typeof bE=="object"&&"Dispose"in bE)bE.Dispose();}};D.fold=function(bD,bE,bF){var bG,bH;bG=bE;bH=P.Get(bF);try{while(bH.MoveNext())bG=bD(bG,bH.Current());return bG;}finally{if(typeof bH=="object"&&"Dispose"in bH)bH.Dispose();}};D.iter=function(bD,bE){var bF;bF=P.Get(bE);try{while(bF.MoveNext())bD(bF.Current());}finally{if(typeof bF=="object"&&"Dispose"in bF)bF.Dispose();}};D.map=function(bD,bE){return{GetEnumerator:function(){var bF;bF=P.Get(bE);return new _9.New(null,null,function(bG){return bF.MoveNext()&&(bG.c=bD(bF.Current()),true);},function(){bF.Dispose();});}};};D.max=function(bD){var bE,bF,bG;bE=P.Get(bD);try{if(!bE.MoveNext())D.seqEmpty();bF=bE.Current();while(bE.MoveNext()){bG=bE.Current();w.Compare(bG,bF)===1?bF=bG:void 0;}return bF;}finally{if(typeof bE=="object"&&"Dispose"in bE)bE.Dispose();}};D.seqEmpty=function(){return q.FailWith("The input sequence was empty.");};D.forall=function(bD,bE){return!D.exists(function(bF){return!bD(bF);},bE);};D.exists=function(bD,bE){var bF,bG;bF=P.Get(bE);try{bG=false;while(!bG&&bF.MoveNext())bG=bD(bF.Current());return bG;}finally{if(typeof bF=="object"&&"Dispose"in bF)bF.Dispose();}};F=k.View=bA.Class({},null,F);G.LinkElement=function(bD,bE){G.InsertDoc(bD,bE,null);};G.InsertDoc=function(bD,bE,bF){var bG,bH,bI;while(true)if(bE!=null&&bE.$==1)return G.InsertNode(bD,bE.$0.El,bF);else if(bE!=null&&bE.$==2){bG=bE.$0;bG.Dirty=false;bE=bG.Current;}else if(bE==null)return bF;else if(bE!=null&&bE.$==4)return G.InsertNode(bD,bE.$0.Text,bF);else if(bE!=null&&bE.$==5)return G.InsertNode(bD,bE.$0,bF);else if(bE!=null&&bE.$==6)return B.foldBack(function(bJ,bK){return(((bA.Curried3(function(bL,bM,bN){return bM==null||bM.constructor===L?G.InsertDoc(bL,bM,bN):G.InsertNode(bL,bM,bN);}))(bD))(bJ))(bK);},bE.$0.Els,bF);else{bH=bE.$1;bI=bE.$0;bE=bI;bF=G.InsertDoc(bD,bH,bF);}};G.CreateRunState=function(bD,bE){return _1.New(_2.get_Empty(),G.CreateElemNode(bD,_.EmptyAttr(),bE));};G.PerformAnimatedUpdate=function(bD,bE,bF){var bG;return T.get_UseAnimations()?(bG=null,_5.Delay(function(){var bH,bI,bJ;bH=_2.FindAll(bF);bI=G.ComputeChangeAnim(bE,bH);bJ=G.ComputeEnterAnim(bE,bH);return _5.Bind(T.Play(T.Append(bI,G.ComputeExitAnim(bE,bH))),function(){return _5.Bind(G.SyncElemNodesNextFrame(bD,bE),function(){return _5.Bind(T.Play(bJ),function(){bE.PreviousNodes=bH;return _5.Return(null);});});});})):G.SyncElemNodesNextFrame(bD,bE);};G.PerformSyncUpdate=function(bD,bE,bF){var bG;bG=_2.FindAll(bF);G.SyncElemNode(bD,bE.Top);bE.PreviousNodes=bG;};G.InsertNode=function(bD,bE,bF){O.InsertAt(bD,bF,bE);return bE;};G.CreateElemNode=function(bD,bE,bF){var bG;G.LinkElement(bD,bF);bG=_.Insert(bD,bE);return R.New(bG,bF,null,bD,$.Int(),bA.GetOptional(bG.OnAfterRender));};G.SyncElemNodesNextFrame=function(bD,bE){function bF(bG){a.requestAnimationFrame(function(){G.SyncElemNode(bD,bE.Top);bG();});}return U.BatchUpdatesEnabled()?_5.FromContinuations(function(bG,bH,bI){return bF.apply(null,[bG,bH,bI]);}):(G.SyncElemNode(bD,bE.Top),_5.Return(null));};G.ComputeExitAnim=function(bD,bE){return T.Concat(B.map(function(bF){return _.GetExitAnim(bF.Attr);},_2.ToArray(_2.Except(bE,_2.Filter(function(bF){return _.HasExitAnim(bF.Attr);},bD.PreviousNodes)))));};G.ComputeEnterAnim=function(bD,bE){return T.Concat(B.map(function(bF){return _.GetEnterAnim(bF.Attr);},_2.ToArray(_2.Except(bD.PreviousNodes,_2.Filter(function(bF){return _.HasEnterAnim(bF.Attr);},bE)))));};G.ComputeChangeAnim=function(bD,bE){var bF;function bG(bH){return _.HasChangeAnim(bH.Attr);}bF=function(bH){return _2.Filter(bG,bH);};return T.Concat(B.map(function(bH){return _.GetChangeAnim(bH.Attr);},_2.ToArray(_2.Intersect(bF(bD.PreviousNodes),bF(bE)))));};G.SyncElemNode=function(bD,bE){!bD?G.SyncElement(bE):void 0;G.Sync(bE.Children);G.AfterRender(bE);};G.SyncElement=function(bD){function bE(bF){function bG(bH){var bI,bJ,bK,bL;while(true){if(bH!=null&&bH.$==0){bJ=bH.$1;bK=bH.$0;if(bG(bK))return true;else bH=bJ;}else if(bH!=null&&bH.$==2){bL=bH.$0;if(bL.Dirty)return true;else bH=bL.Current;}else return bH!=null&&bH.$==6&&(bI=bH.$0,bI.Dirty||B.exists(bE,bI.Holes));}}return bG(bF.Children);}_.Sync(bD.El,bD.Attr);bE(bD)?G.DoSyncElement(bD):void 0;};G.Sync=function(bD){var bE,bF,bG,bH,bI;while(true){if(bD!=null&&bD.$==1)return G.SyncElemNode(false,bD.$0);else if(bD!=null&&bD.$==2){bG=bD.$0;bD=bG.Current;}else if(bD==null)return null;else if(bD!=null&&bD.$==5)return null;else if(bD!=null&&bD.$==4){bE=bD.$0;return bE.Dirty?(bE.Text.nodeValue=bE.Value,bE.Dirty=false):null;}else if(bD!=null&&bD.$==6){bF=bD.$0;B.iter(function(bJ){return function(bK){G.SyncElemNode(bJ,bK);};}(false),bF.Holes);B.iter(function(bJ){_.Sync(bJ[0],bJ[1]);},bF.Attrs);return G.AfterRender(bF);}else{bH=bD.$1;bI=bD.$0;G.Sync(bI);bD=bH;}}};G.AfterRender=function(bD){var bE;bE=bA.GetOptional(bD.Render);bE!=null&&bE.$==1?(bE.$0(bD.El),bA.SetOptional(bD,"Render",null)):void 0;};G.DoSyncElement=function(bD){var bE,bF,bG;function bH(bI,bJ){var bK,bL,bM,bN;while(true){if(bI!=null&&bI.$==1)return bI.$0.El;else if(bI!=null&&bI.$==2){bL=bI.$0;if(bL.Dirty){bL.Dirty=false;return G.InsertDoc(bE,bL.Current,bJ);}else bI=bL.Current;}else if(bI==null)return bJ;else if(bI!=null&&bI.$==4)return bI.$0.Text;else if(bI!=null&&bI.$==5)return bI.$0;else if(bI!=null&&bI.$==6){bK=bI.$0;bK.Dirty?bK.Dirty=false:void 0;return B.foldBack(function(bO,bP){return bO==null||bO.constructor===L?bH(bO,bP):bO;},bK.Els,bJ);}else{bM=bI.$1;bN=bI.$0;bI=bN;bJ=bH(bM,bJ);}}}bE=bD.El;bs.Iter((bF=bD.El,function(bI){O.RemoveNode(bF,bI);}),bs.Except(bs.DocChildren(bD),bs.Children(bD.El,bA.GetOptional(bD.Delimiters))));bH(bD.Children,(bG=bA.GetOptional(bD.Delimiters),bG!=null&&bG.$==1?bG.$0[1]:null));};H.TryParseInt32=function(bD,bE){return H.TryParse(bD,-2147483648,2147483647,bE);};J=d.InvalidOperationException=bA.Class({},I,J);J.New=bA.Ctor(function(bD){J.New$2.call(this,bD,null);},J);J.New$2=bA.Ctor(function(bD,bE){this.message=bD;this.inner=bE;L.setPrototypeOf(this,J.prototype);},J);K.notPresent=function(){return q.FailWith("The given key was not present in the dictionary.");};B.exists=function(bD,bE){var bF,bG,bH,bI;bF=false;bG=0;bI=B.length(bE);while(!bF&&bG<bI)if(bD(bE[bG]))bF=true;else bG=bG+1;return bF;};B.tryPick=function(bD,bE){var bF,bG,bH;bF=null;bG=0;while(bG<bE.length&&bF==null){bH=bD(bE[bG]);bH!=null&&bH.$==1?bF=bH:void 0;bG=bG+1;}return bF;};B.tryFindIndex=function(bD,bE){var bF,bG;bF=null;bG=0;while(bG<bE.length&&bF==null){bD(bE[bG])?bF={$:1,$0:bG}:void 0;bG=bG+1;}return bF;};B.filter=function(bD,bE){var bF,bG,bH;bF=[];for(bG=0,bH=bE.length-1;bG<=bH;bG++)if(bD(bE[bG]))bF.push(bE[bG]);return bF;};B.map=function(bD,bE){var bF,bG,bH;bF=new a.Array(bE.length);for(bG=0,bH=bE.length-1;bG<=bH;bG++)bF[bG]=bD(bE[bG]);return bF;};B.iter=function(bD,bE){var bF,bG;for(bF=0,bG=bE.length-1;bF<=bG;bF++)bD(bE[bF]);};B.foldBack=function(bD,bE,bF){var bG,bH,bI,bJ,bK;bG=bF;bI=bE.length;for(bJ=1,bK=bI;bJ<=bK;bJ++)bG=bD(bE[bI-bJ],bG);return bG;};B.pick=function(bD,bE){var bF;bF=B.tryPick(bD,bE);return bF==null?q.FailWith("KeyNotFoundException"):bF.$0;};B.ofSeq=function(bD){var bE,bF;if(bD instanceof a.Array)return bD.slice();else if(bD instanceof bl)return B.ofList(bD);else{bE=[];bF=P.Get(bD);try{while(bF.MoveNext())bE.push(bF.Current());return bE;}finally{if(typeof bF=="object"&&"Dispose"in bF)bF.Dispose();}}};B.choose=function(bD,bE){var bF,bG,bH,bI;bF=[];for(bG=0,bH=bE.length-1;bG<=bH;bG++){bI=bD(bE[bG]);bI==null?void 0:bF.push(bI.$0);}return bF;};B.concat=function(bD){return a.Array.prototype.concat.apply([],B.ofSeq(bD));};B.ofList=function(bD){var bE,bF;bF=[];bE=bD;while(!(bE.$==0)){bF.push(bk.head(bE));bE=bk.tail(bE);}return bF;};B.create=function(bD,bE){var bF,bG,bH;bF=new a.Array(bD);for(bG=0,bH=bD-1;bG<=bH;bG++)bF[bG]=bE;return bF;};B.init=function(bD,bE){var bF,bG,bH;bD<0?q.FailWith("Negative size given."):null;bF=new a.Array(bD);for(bG=0,bH=bD-1;bG<=bH;bG++)bF[bG]=bE(bG);return bF;};B.forall=function(bD,bE){var bF,bG,bH,bI;bF=true;bG=0;bI=B.length(bE);while(bF&&bG<bI)if(bD(bE[bG]))bG=bG+1;else bF=false;return bF;};M.convertTextNode=function(bD){var bE,bF,bG,bH,bI,bJ;bE=null;bF=0;bH=bD.textContent;bI=new a.RegExp(m.TextHoleRE(),"g");while(bE=bI.exec(bH),bE!==null){bD.parentNode.insertBefore(self.document.createTextNode(N.string(bH,{$:1,$0:bF},{$:1,$0:bI.lastIndex-B.get(bE,0).length-1})),bD);bF=bI.lastIndex;bJ=self.document.createElement("span");bJ.setAttribute("ws-replace",B.get(bE,1).toLowerCase());bD.parentNode.insertBefore(bJ,bD);}bI.lastIndex=0;bD.textContent=N.string(bH,{$:1,$0:bF},null);};M.failNotLoaded=function(bD){bC.warn("Instantiating non-loaded template",bD);};M.fillTextHole=function(bD,bE,bF){var bG;bG=bD.querySelector("[ws-replace]");return w.Equals(bG,null)?(bC.warn("Filling non-existent text hole",bF),null):(bG.parentNode.replaceChild(self.document.createTextNode(bE),bG),{$:1,$0:bG.getAttribute("ws-replace")});};M.removeHolesExcept=function(bD,bE){function bF(bG){m.foreachNotPreserved(bD,"["+bG+"]",function(bH){if(!bE.Contains(bH.getAttribute(bG)))bH.removeAttribute(bG);});}bF("ws-attr");bF("ws-onafterrender");bF("ws-var");m.foreachNotPreserved(bD,"[ws-hole]",function(bG){if(!bE.Contains(bG.getAttribute("ws-hole"))){bG.removeAttribute("ws-hole");while(bG.hasChildNodes())bG.removeChild(bG.lastChild);}});m.foreachNotPreserved(bD,"[ws-replace]",function(bG){if(!bE.Contains(bG.getAttribute("ws-replace")))bG.parentNode.removeChild(bG);});m.foreachNotPreserved(bD,"[ws-on]",function(bG){bG.setAttribute("ws-on",X.concat(" ",B.filter(function(bH){return bE.Contains(B.get(X.SplitChars(bH,[":"],1),1));},X.SplitChars(bG.getAttribute("ws-on"),[" "],1))));});m.foreachNotPreserved(bD,"[ws-attr-holes]",function(bG){var bH,bI,bJ,bK,bL;bH=X.SplitChars(bG.getAttribute("ws-attr-holes"),[" "],1);for(bI=0,bJ=bH.length-1;bI<=bJ;bI++){bK=B.get(bH,bI);bG.setAttribute(bK,(bL=new a.RegExp(m.TextHoleRE(),"g"),bG.getAttribute(bK).replace(bL,function(bM,bN){return bE.Contains(bN)?bM:"";})));}});};M.fillInstanceAttrs=function(bD,bE){var bF,bG,bH,bI,bJ;M.convertAttrs(bE);bF=bE.nodeName.toLowerCase();bG=bD.querySelector("[ws-attr="+bF+"]");if(w.Equals(bG,null))bC.warn("Filling non-existent attr hole",bF);else{bG.removeAttribute("ws-attr");for(bH=0,bI=bE.attributes.length-1;bH<=bI;bH++){bJ=bE.attributes.item(bH);bJ.name==="class"&&bG.hasAttribute("class")?bG.setAttribute("class",bG.getAttribute("class")+" "+bJ.nodeValue):bG.setAttribute(bJ.name,bJ.nodeValue);}}};M.mapHoles=function(bD,bE){function bF(bG){m.foreachNotPreserved(bD,"["+bG+"]",function(bH){var bI,bJ;bI=(bJ=null,[bE.TryGetValue(bH.getAttribute(bG).toLowerCase(),{get:function(){return bJ;},set:function(bK){bJ=bK;}}),bJ]);bI[0]?bH.setAttribute(bG,bI[1]):void 0;});}bF("ws-hole");bF("ws-replace");bF("ws-attr");bF("ws-onafterrender");bF("ws-var");m.foreachNotPreserved(bD,"[ws-on]",function(bG){bG.setAttribute("ws-on",X.concat(" ",B.map(function(bH){var bI,bJ,bK;bI=X.SplitChars(bH,[":"],1);bJ=(bK=null,[bE.TryGetValue(B.get(bI,1),{get:function(){return bK;},set:function(bL){bK=bL;}}),bK]);return bJ[0]?B.get(bI,0)+":"+bJ[1]:bH;},X.SplitChars(bG.getAttribute("ws-on"),[" "],1))));});m.foreachNotPreserved(bD,"[ws-attr-holes]",function(bG){var bH,bI,bJ;bH=X.SplitChars(bG.getAttribute("ws-attr-holes"),[" "],1);for(bI=0,bJ=bH.length-1;bI<=bJ;bI++)(function(){var bK;function bL(bM,bN){var bO;bO=q.KeyValue(bN);return bM.replace(new a.RegExp("\\${"+bO[0]+"}","ig"),"${"+bO[1]+"}");}bK=B.get(bH,bI);return bG.setAttribute(bK,(((bA.Curried3(D.fold))(bL))(bG.getAttribute(bK)))(bE));}());});};M.fill=function(bD,bE,bF){while(true)if(bD.hasChildNodes())bF=bE.insertBefore(bD.lastChild,bF);else return null;};M.convertAttrs=function(bD){var bF,bG,bH,bI,bJ,bK,bL,bM;function bE(bN){var bO;bO=bD.getAttribute(bN);bO===null?void 0:bD.setAttribute(bN,bO.toLowerCase());}bF=bD.attributes;bG=[];bH=[];bI=[];for(bJ=0,bK=bF.length-1;bJ<=bK;bJ++){bL=bF.item(bJ);X.StartsWith(bL.nodeName,"ws-on")&&bL.nodeName!=="ws-onafterrender"&&bL.nodeName!=="ws-on"?(bG.push(bL.nodeName),bH.push(N.string(bL.nodeName,{$:1,$0:"ws-on".length},null)+":"+bL.nodeValue.toLowerCase())):!X.StartsWith(bL.nodeName,"ws-")&&(new a.RegExp(m.TextHoleRE())).test(bL.nodeValue)?(bL.nodeValue=(bM=new a.RegExp(m.TextHoleRE(),"g"),bL.nodeValue.replace(bM,function(bN,bO){return"${"+bO.toLowerCase()+"}";})),bI.push(bL.nodeName)):void 0;}!(bH.length==0)?bD.setAttribute("ws-on",X.concat(" ",bH)):void 0;!(bI.length==0)?bD.setAttribute("ws-attr-holes",X.concat(" ",bI)):void 0;bE("ws-hole");bE("ws-replace");bE("ws-attr");bE("ws-onafterrender");bE("ws-var");B.iter(function(bN){bD.removeAttribute(bN);},bG);};N.string=function(bD,bE,bF){return bE==null?bF!=null&&bF.$==1?bD.slice(0,bF.$0+1):"":bF==null?bD.slice(bE.$0):bD.slice(bE.$0,bF.$0+1);};O.ParseHTMLIntoFakeRoot=function(bD){var bE,bF,bG,bH,bI;function bJ(bK,bL){var bM;while(true)if(bL===0)return bK;else{bM=bL;bK=bK.lastChild;bL=bM-1;}}bE=self.document.createElement("div");return!O.rhtml().test(bD)?(bE.appendChild(self.document.createTextNode(bD)),bE):(bF=(bG=O.rtagName().exec(bD),w.Equals(bG,null)?"":B.get(bG,1).toLowerCase()),(bH=(bI=(O.wrapMap())[bF],bI?bI:O.defaultWrap()),(bE.innerHTML=bH[1]+bD.replace(O.rxhtmlTag(),"<$1></$2>")+bH[2],bJ(bE,bH[0]))));};O.rhtml=function(){_8.$cctor();return _8.rhtml;};O.wrapMap=function(){_8.$cctor();return _8.wrapMap;};O.defaultWrap=function(){_8.$cctor();return _8.defaultWrap;};O.rxhtmlTag=function(){_8.$cctor();return _8.rxhtmlTag;};O.rtagName=function(){_8.$cctor();return _8.rtagName;};O.IterSelector=function(bD,bE,bF){var bG,bH,bI;bG=bD.querySelectorAll(bE);for(bH=0,bI=bG.length-1;bH<=bI;bH++)bF(bG[bH]);};O.InsertAt=function(bD,bE,bF){var bG;if(!(bF.parentNode===bD&&bE===(bG=bF.nextSibling,w.Equals(bG,null)?null:bG)))bD.insertBefore(bF,bE);};O.RemoveNode=function(bD,bE){if(bE.parentNode===bD)bD.removeChild(bE);};P.Get=function(bD){return bD instanceof a.Array?P.ArrayEnumerator(bD):w.Equals(typeof bD,"string")?P.StringEnumerator(bD):bD.GetEnumerator();};P.ArrayEnumerator=function(bD){return new _9.New(0,null,function(bE){var bF;bF=bE.s;return bF<B.length(bD)&&(bE.c=B.get(bD,bF),bE.s=bF+1,true);},void 0);};P.StringEnumerator=function(bD){return new _9.New(0,null,function(bE){var bF;bF=bE.s;return bF<bD.length&&(bE.c=bD[bF],bE.s=bF+1,true);},void 0);};P.Get0=function(bD){return bD instanceof a.Array?P.ArrayEnumerator(bD):w.Equals(typeof bD,"string")?P.StringEnumerator(bD):"GetEnumerator0"in bD?bD.GetEnumerator0():bD.GetEnumerator();};D.insufficient=function(){return q.FailWith("The input sequence has an insufficient number of elements.");};Q=u.KeyCollection=bA.Class({GetEnumerator$1:function(){return P.Get(D.map(function(bD){return bD.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},e,Q);Q.New=bA.Ctor(function(bD){e.New.call(this);this.d=bD;},Q);R=k.DocElemNode=bA.Class({Equals:function(bD){return this.ElKey===bD.ElKey;},GetHashCode:function(){return this.ElKey;}},null,R);R.New=function(bD,bE,bF,bG,bH,bI){var bJ;return new R((bJ={Attr:bD,Children:bE,El:bG,ElKey:bH},(bA.SetOptional(bJ,"Delimiters",bF),bA.SetOptional(bJ,"Render",bI),bJ)));};F.Sink=function(bD,bE){function bF(){_4.WhenRun(bE(),bD,function(){_5.scheduler().Fork(bF);});}_5.scheduler().Fork(bF);};T.get_UseAnimations=function(){return _6.UseAnimations();};T.Play=function(bD){var bE;bE=null;return _5.Delay(function(){return _5.Bind(T.Run(a.ignore,_6.Actions(bD)),function(){_6.Finalize(bD);return _5.Return(null);});});};T.Append=function(bD,bE){return{$:0,$0:bb.Append(bD.$0,bE.$0)};};T.Run=function(bD,bE){var bF;function bG(bH){function bI(bJ){return function(bK){var bL;bL=bK-bJ;bE.Compute(bL);bD();return bL<=bF?void a.requestAnimationFrame(function(bM){(bI(bJ))(bM);}):bH();};}a.requestAnimationFrame(function(bJ){(bI(bJ))(bJ);});}bF=bE.Duration;return bF===0?_5.Zero():_5.FromContinuations(function(bH,bI,bJ){return bG.apply(null,[bH,bI,bJ]);});};T.Concat=function(bD){return{$:0,$0:bb.Concat(D.map(_6.List,bD))};};U.BatchUpdatesEnabled=function(){_7.$cctor();return _7.BatchUpdatesEnabled;};W.StartProcessor=function(bD){var bE;function bF(){var bG;bG=null;return _5.Delay(function(){return _5.Bind(bD,function(){var bH;bH=bE[0];return bH===1?(bE[0]=0,_5.Zero()):bH===2?(bE[0]=1,bF()):_5.Zero();});});}bE=[0];return function(){var bG;bG=bE[0];bG===0?(bE[0]=1,_5.Start(bF(),null)):bG===1?bE[0]=2:void 0;};};X.Substring=function(bD,bE,bF){return bD.substr(bE,bF);};X.concat=function(bD,bE){return B.ofSeq(bE).join(bD);};X.SplitChars=function(bD,bE,bF){return X.Split(bD,new a.RegExp("["+X.RegexEscape(bE.join(""))+"]"),bF);};X.StartsWith=function(bD,bE){return bD.substring(0,bE.length)==bE;};X.Split=function(bD,bE,bF){return bF===1?B.filter(function(bG){return bG!=="";},X.SplitWith(bD,bE)):X.SplitWith(bD,bE);};X.RegexEscape=function(bD){return bD.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};X.SplitWith=function(bD,bE){return bD.split(bE);};X.forall=function(bD,bE){return D.forall(bD,X.protect(bE));};X.protect=function(bD){return bD===null?"":bD;};Z.New=function(bD,bE,bF,bG){var bH;bH={DynElem:bD,DynFlags:bE,DynNodes:bF};bA.SetOptional(bH,"OnAfterRender",bG);return bH;};_1.New=function(bD,bE){return{PreviousNodes:bD,Top:bE};};_2.get_Empty=function(){return{$:0,$0:new C.New$3()};};_2.FindAll=function(bD){var bE;function bF(bI,bJ){var bK,bL,bM,bN,bO;while(true)switch(bI){case 0:if(bJ!=null&&bJ.$==0){bL=bJ.$1;bM=bJ.$0;bF(0,bM);bJ=bL;}else if(bJ!=null&&bJ.$==1){bN=bJ.$0;bJ=bN;bI=1;}else if(bJ!=null&&bJ.$==2){bO=bJ.$0;bJ=bO.Current;}else return bJ!=null&&bJ.$==6?(bK=bJ.$0.Holes,(function(bP){return function(bQ){B.iter(bP,bQ);};}(bH))(bK)):null;break;case 1:bE.push(bJ);bJ=bJ.Children;bI=0;break;}}function bG(bI){return bF(0,bI);}function bH(bI){return bF(1,bI);}bE=[];bG(bD);return{$:0,$0:new C.New$2(bE)};};_2.Filter=function(bD,bE){return{$:0,$0:bi.Filter(bD,bE.$0)};};_2.Except=function(bD,bE){return{$:0,$0:bi.Except(bD.$0,bE.$0)};};_2.ToArray=function(bD){return bi.ToArray(bD.$0);};_2.Intersect=function(bD,bE){return{$:0,$0:bi.Intersect(bD.$0,bE.$0)};};_3=k.AttrProxy=bA.Class({},null,_3);_4.WhenRun=function(bD,bE,bF){var bG;bG=bD.s;bG==null?bF():bG!=null&&bG.$==2?(bG.$1.push(bF),bE(bG.$0)):bG!=null&&bG.$==3?(bG.$0.push(bE),bG.$1.push(bF)):bE(bG.$0);};_5.Delay=function(bD){return function(bE){try{(bD(null))(bE);}catch(bF){bE.k({$:1,$0:bF});}};};_5.Bind=function(bD,bE){return _5.checkCancel(function(bF){bD(bf.New(function(bG){var bH;if(bG.$==0){bH=bG.$0;_5.scheduler().Fork(function(){try{(bE(bH))(bF);}catch(bI){bF.k({$:1,$0:bI});}});}else _5.scheduler().Fork(function(){bF.k(bG);});},bF.ct));});};_5.Zero=function(){bg.$cctor();return bg.Zero;};_5.Start=function(bD,bE){var bF,bG;bF=(bG=(_5.defCTS())[0],bE==null?bG:bE.$0);_5.scheduler().Fork(function(){if(!bF.c)bD(bf.New(function(bH){if(bH.$==1)_5.UncaughtAsyncError(bH.$0);},bF));});};_5.Return=function(bD){return function(bE){bE.k({$:0,$0:bD});};};_5.scheduler=function(){bg.$cctor();return bg.scheduler;};_5.checkCancel=function(bD){return function(bE){if(bE.ct.c)_5.cancel(bE);else bD(bE);};};_5.defCTS=function(){bg.$cctor();return bg.defCTS;};_5.UncaughtAsyncError=function(bD){bC.log("WebSharper: Uncaught asynchronous exception",bD);};_5.FromContinuations=function(bD){return function(bE){var bF;function bG(bH){if(bF[0])q.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{bF[0]=true;_5.scheduler().Fork(bH);}}bF=[false];bD(function(bH){bG(function(){bE.k({$:0,$0:bH});});},function(bH){bG(function(){bE.k({$:1,$0:bH});});},function(bH){bG(function(){bE.k({$:2,$0:bH});});});};};_5.cancel=function(bD){bD.k({$:2,$0:new bu.New(bD.ct)});};_6.UseAnimations=function(){ba.$cctor();return ba.UseAnimations;};_6.Actions=function(bD){return _6.ConcatActions(B.choose(function(bE){return bE.$==1?{$:1,$0:bE.$0}:null;},bb.ToArray(bD.$0)));};_6.Finalize=function(bD){B.iter(function(bE){if(bE.$==0)bE.$0();},bb.ToArray(bD.$0));};_6.ConcatActions=function(bD){var bE,bF,bG,bH;bE=br.ofSeqNonCopying(bD);bF=B.length(bE);return bF===0?_6.Const():bF===1?B.get(bE,0):(bG=D.max(D.map(function(bI){return bI.Duration;},bE)),(bH=B.map(function(bI){return _6.Prolong(bG,bI);},bE),_6.Def(bG,function(bI){B.iter(function(bJ){bJ.Compute(bI);},bH);})));};_6.List=function(bD){return bD.$0;};_6.Const=function(bD){return _6.Def(0,function(){return bD;});};_6.Def=function(bD,bE){return{Compute:bE,Duration:bD};};_6.Prolong=function(bD,bE){var bF,bG,bH;bF=bE.Compute;bG=bE.Duration;bH=bv.Create(function(){return bE.Compute(bE.Duration);});return{Compute:function(bI){return bI>=bG?bH.f():bF(bI);},Duration:bD};};_7.$cctor=function(){_7.$cctor=a.ignore;_7.BatchUpdatesEnabled=true;};_8.$cctor=function(){var bD;_8.$cctor=a.ignore;_8.rxhtmlTag=new a.RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi");_8.rtagName=new a.RegExp("<([\\w:]+)");_8.rhtml=new a.RegExp("<|&#?\\w+;");_8.wrapMap=(bD=[1,"<table>","</table>"],{option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:bD,tbody:bD,tfoot:bD,tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><colgroup>","</colgoup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"]});_8.defaultWrap=[0,"",""];};_9=P.T=bA.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},e,_9);_9.New=bA.Ctor(function(bD,bE,bF,bG){e.New.call(this);this.s=bD;this.c=bE;this.n=bF;this.d=bG;},_9);_.Insert=function(bD,bE){var bF,bG,bH;function bI(bJ){var bK,bL;while(true)if(!(bJ===null)){if(bJ!=null&&bJ.$==1)return bF.push(bJ.$0);else if(bJ!=null&&bJ.$==2){bK=bJ.$1;bL=bJ.$0;bI(bL);bJ=bK;}else return bJ!=null&&bJ.$==3?bJ.$0(bD):bJ!=null&&bJ.$==4?bG.push(bJ.$0):null;}else return null;}bF=[];bG=[];bI(bE);bH=bF.slice(0);return Z.New(bD,_.Flags(bE),bH,bG.length===0?null:{$:1,$0:function(bJ){D.iter(function(bK){bK(bJ);},bG);}});};_.EmptyAttr=function(){bc.$cctor();return bc.EmptyAttr;};_.HasExitAnim=function(bD){var bE;bE=2;return(bD.DynFlags&bE)===bE;};_.GetExitAnim=function(bD){return _.GetAnim(bD,function(bE,bF){return bE.NGetExitAnim(bF);});};_.HasEnterAnim=function(bD){var bE;bE=1;return(bD.DynFlags&bE)===bE;};_.GetEnterAnim=function(bD){return _.GetAnim(bD,function(bE,bF){return bE.NGetEnterAnim(bF);});};_.HasChangeAnim=function(bD){var bE;bE=4;return(bD.DynFlags&bE)===bE;};_.GetChangeAnim=function(bD){return _.GetAnim(bD,function(bE,bF){return bE.NGetChangeAnim(bF);});};_.Flags=function(bD){return bD!==null&&bD.hasOwnProperty("flags")?bD.flags:0;};_.GetAnim=function(bD,bE){return T.Concat(B.map(function(bF){return bE(bF,bD.DynElem);},bD.DynNodes));};_.Sync=function(bD,bE){B.iter(function(bF){bF.NSync(bD);},bE.DynNodes);};$.Int=function(){$.set_counter($.counter()+1);return $.counter();};$.set_counter=function(bD){bm.$cctor();bm.counter=bD;};$.counter=function(){bm.$cctor();return bm.counter;};ba.$cctor=function(){ba.$cctor=a.ignore;ba.CubicInOut=be.Custom(function(bD){var bE;bE=bD*bD;return 3*bE-2*(bE*bD);});ba.UseAnimations=true;};bb.Append=function(bD,bE){return bD.$==0?bE:bE.$==0?bD:{$:2,$0:bD,$1:bE};};bb.ToArray=function(bD){var bE;function bF(bG){var bH,bI;while(true)if(bG.$==1)return bE.push(bG.$0);else if(bG.$==2){bH=bG.$1;bI=bG.$0;bF(bI);bG=bH;}else return bG.$==3?B.iter(function(bJ){bE.push(bJ);},bG.$0):null;}bE=[];bF(bD);return bE.slice(0);};bb.Concat=function(bD){var bE;bE=br.ofSeqNonCopying(bD);return br.TreeReduce(bb.Empty(),bb.Append,bE);};bb.Empty=function(){bw.$cctor();return bw.Empty;};bc.$cctor=function(){var bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM;bc.$cctor=a.ignore;bc.EmptyAttr=null;bc.BoolCheckedApply=bA.Curried3(function(bN,bO,bP){return[bO(function(bQ){bQ.addEventListener("change",function(){return!w.Equals(bN.Get(),bQ.checked)?bN.Set(bQ.checked):null;});}),bP(function(bQ){return function(bR){bQ.checked=bR;};})];});bc.StringSet=function(bN){return function(bO){bN.value=bO;};};bc.StringGet=function(bN){return{$:1,$0:bN.value};};bc.StringApply=(bD=bo.StringGet(),(bE=bo.StringSet(),bA.Curried(bo.ApplyValue,3,[bD,function(bN,bO){return(bE(bN))(bO);}])));bc.IntSetUnchecked=function(bN){return function(bO){bN.value=a.String(bO);};};bc.IntGetUnchecked=function(bN){var bO,bP;bO=bN.value;return bp.isBlank(bO)?{$:1,$0:0}:(bP=+bO,bP!==bP>>0?null:{$:1,$0:bP});};bc.IntApplyUnchecked=(bF=bo.IntGetUnchecked(),(bG=bo.IntSetUnchecked(),bA.Curried(bo.ApplyValue,3,[bF,function(bN,bO){return(bG(bN))(bO);}])));bc.IntSetChecked=function(bN){return function(bO){var bP;bP=bO.get_Input();return bN.value!==bP?void(bN.value=bP):null;};};bc.IntGetChecked=function(bN){var bO,bP,bQ;bO=bN.value;return{$:1,$0:bp.isBlank(bO)?(bN.checkValidity?bN.checkValidity():true)?new bq({$:2,$0:bO}):new bq({$:1,$0:bO}):(bP=(bQ=0,[H.TryParseInt32(bO,{get:function(){return bQ;},set:function(bR){bQ=bR;}}),bQ]),bP[0]?new bq({$:0,$0:bP[1],$1:bO}):new bq({$:1,$0:bO}))};};bc.IntApplyChecked=(bH=bo.IntGetChecked(),(bI=bo.IntSetChecked(),bA.Curried(bo.ApplyValue,3,[bH,function(bN,bO){return(bI(bN))(bO);}])));bc.FloatSetUnchecked=function(bN){return function(bO){bN.value=a.String(bO);};};bc.FloatGetUnchecked=function(bN){var bO,bP;bO=bN.value;return bp.isBlank(bO)?{$:1,$0:0}:(bP=+bO,a.isNaN(bP)?null:{$:1,$0:bP});};bc.FloatApplyUnchecked=(bJ=bo.FloatGetUnchecked(),(bK=bo.FloatSetUnchecked(),bA.Curried(bo.ApplyValue,3,[bJ,function(bN,bO){return(bK(bN))(bO);}])));bc.FloatSetChecked=function(bN){return function(bO){var bP;bP=bO.get_Input();return bN.value!==bP?void(bN.value=bP):null;};};bc.FloatGetChecked=function(bN){var bO,bP;bO=bN.value;return{$:1,$0:bp.isBlank(bO)?(bN.checkValidity?bN.checkValidity():true)?new bq({$:2,$0:bO}):new bq({$:1,$0:bO}):(bP=+bO,a.isNaN(bP)?new bq({$:1,$0:bO}):new bq({$:0,$0:bP,$1:bO}))};};bc.FloatApplyChecked=(bL=bo.FloatGetChecked(),(bM=bo.FloatSetChecked(),bA.Curried(bo.ApplyValue,3,[bL,function(bN,bO){return(bM(bN))(bO);}])));};bd=_5.Scheduler=bA.Class({Fork:function(bD){var bE;bE=this;this.robin.push(bD);this.idle?(this.idle=false,a.setTimeout(function(){bE.tick();},0)):void 0;},tick:function(){var bD,bE,bF;bE=this;bF=bB.now();bD=true;while(bD)if(this.robin.length===0){this.idle=true;bD=false;}else{(this.robin.shift())();bB.now()-bF>40?(a.setTimeout(function(){bE.tick();},0),bD=false):void 0;}}},e,bd);bd.New=bA.Ctor(function(){e.New.call(this);this.idle=true;this.robin=[];},bd);be=k.Easing=bA.Class({},e,be);be.Custom=function(bD){return new be.New(bD);};be.New=bA.Ctor(function(bD){e.New.call(this);this.transformTime=bD;},be);bf.New=function(bD,bE){return{k:bD,ct:bE};};bg.$cctor=function(){bg.$cctor=a.ignore;bg.noneCT=bh.New(false,[]);bg.scheduler=new bd.New();bg.defCTS=[new z.New()];bg.Zero=_5.Return();bg.GetCT=function(bD){bD.k({$:0,$0:bD.ct});};};bh.New=function(bD,bE){return{c:bD,r:bE};};bi.Filter=function(bD,bE){return new C.New$2(B.filter(bD,bi.ToArray(bE)));};bi.Except=function(bD,bE){var bF;bF=new C.New$2(bi.ToArray(bE));bF.ExceptWith(bi.ToArray(bD));return bF;};bi.ToArray=function(bD){var bE;bE=B.create(bD.get_Count(),void 0);bD.CopyTo(bE);return bE;};bi.Intersect=function(bD,bE){var bF;bF=new C.New$2(bi.ToArray(bD));bF.IntersectWith(bi.ToArray(bE));return bF;};bj.concat=function(bD){var bE,bF;bE=[];for(var bG in bD)bE.push.apply(bE,bD[bG]);return bE;};bl=bk.T=bA.Class({GetEnumerator:function(){return new _9.New(this,null,function(bD){var bE;bE=bD.s;return bE.$==0?false:(bD.c=bE.$0,bD.s=bE.$1,true);},void 0);},GetEnumerator0:function(){return P.Get(this);}},null,bl);bm.$cctor=function(){bm.$cctor=a.ignore;bm.counter=0;};bn=k.Var=bA.Class({},e,bn);bo.ApplyValue=function(bD,bE,bF,bG,bH){return[bG(function(bI){function bJ(){bF.UpdateMaybe(function(bK){var bL,bM;bL=bD(bI);return bL!=null&&bL.$==1&&(!w.Equals(bL.$0,bK)&&(bM=[bL,bL.$0],true))?bM[0]:null;});}bI.addEventListener("change",bJ);bI.addEventListener("input",bJ);bI.addEventListener("keypress",bJ);}),bH(function(bI){return function(bJ){var bK,bL;bK=bD(bI);return bK!=null&&bK.$==1&&(w.Equals(bK.$0,bJ)&&(bL=bK.$0,true))?null:bE(bI,bJ);};})];};bo.StringSet=function(){bc.$cctor();return bc.StringSet;};bo.StringGet=function(){bc.$cctor();return bc.StringGet;};bo.IntSetUnchecked=function(){bc.$cctor();return bc.IntSetUnchecked;};bo.IntGetUnchecked=function(){bc.$cctor();return bc.IntGetUnchecked;};bo.IntSetChecked=function(){bc.$cctor();return bc.IntSetChecked;};bo.IntGetChecked=function(){bc.$cctor();return bc.IntGetChecked;};bo.FloatSetUnchecked=function(){bc.$cctor();return bc.FloatSetUnchecked;};bo.FloatGetUnchecked=function(){bc.$cctor();return bc.FloatGetUnchecked;};bo.FloatSetChecked=function(){bc.$cctor();return bc.FloatSetChecked;};bo.FloatGetChecked=function(){bc.$cctor();return bc.FloatGetChecked;};bp.isBlank=function(bD){return X.forall(bt.IsWhiteSpace,bD);};bq=k.CheckedInput=bA.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,bq);br.ofSeqNonCopying=function(bD){var bE,bF;if(bD instanceof a.Array)return bD;else if(bD instanceof bl)return B.ofList(bD);else if(bD===null)return[];else{bE=[];bF=P.Get(bD);try{while(bF.MoveNext())bE.push(bF.Current());return bE;}finally{if(typeof bF=="object"&&"Dispose"in bF)bF.Dispose();}}};br.TreeReduce=function(bD,bE,bF){var bG;function bH(bI){return function(bJ){var bK,bL;return bJ<=0?bD:bJ===1&&(bI>=0&&bI<bG)?B.get(bF,bI):(bL=bJ/2>>0,bE((bH(bI))(bL),(bH(bI+bL))(bJ-bL)));};}bG=B.length(bF);return(bH(0))(bG);};bs.Children=function(bD,bE){var bF,bG,bH;if(bE!=null&&bE.$==1){bH=[];bF=bE.$0[0].nextSibling;while(bF!==bE.$0[1]){bH.push(bF);bF=bF.nextSibling;}return{$:0,$0:bH};}else return{$:0,$0:B.init(bD.childNodes.length,(bG=bD.childNodes,function(bI){return bG[bI];}))};};bs.Except=function(bD,bE){var bF;bF=bD.$0;return{$:0,$0:B.filter(function(bG){return B.forall(function(bH){return!(bG===bH);},bF);},bE.$0)};};bs.Iter=function(bD,bE){B.iter(bD,bE.$0);};bs.DocChildren=function(bD){var bE;function bF(bG){var bH,bI,bJ,bK;while(true){if(bG!=null&&bG.$==2){bI=bG.$0;bG=bI.Current;}else if(bG!=null&&bG.$==1)return bE.push(bG.$0.El);else if(bG==null)return null;else if(bG!=null&&bG.$==5)return bE.push(bG.$0);else if(bG!=null&&bG.$==4)return bE.push(bG.$0.Text);else if(bG!=null&&bG.$==6){bH=bG.$0.Els;return(function(bL){return function(bM){B.iter(bL,bM);};}(function(bL){if(bL==null||bL.constructor===L)bF(bL);else bE.push(bL);}))(bH);}else{bJ=bG.$1;bK=bG.$0;bF(bK);bG=bJ;}}}bE=[];bF(bD.Children);return{$:0,$0:br.ofSeqNonCopying(bE)};};bk.head=function(bD){return bD.$==1?bD.$0:bk.listEmpty();};bk.tail=function(bD){return bD.$==1?bD.$1:bk.listEmpty();};bk.listEmpty=function(){return q.FailWith("The input list was empty.");};bt.IsWhiteSpace=function(bD){return bD.match(new a.RegExp("\\s"))!==null;};H.TryParse=function(bD,bE,bF,bG){var bH,bI;bH=+bD;bI=bH===bH-bH%1&&bH>=bE&&bH<=bF;bI?bG.set(bH):void 0;return bI;};bu=d.OperationCanceledException=bA.Class({},I,bu);bu.New=bA.Ctor(function(bD){bu.New$1.call(this,"The operation was canceled.",null,bD);},bu);bu.New$1=bA.Ctor(function(bD,bE,bF){this.message=bD;this.inner=bE;L.setPrototypeOf(this,bu.prototype);this.ct=bF;},bu);bv.Create=function(bD){return by.New(false,bD,bv.forceLazy);};bv.forceLazy=function(){var bD;bD=this.v();this.c=true;this.v=bD;this.f=bv.cachedLazy;return bD;};bv.cachedLazy=function(){return this.v;};bw.$cctor=function(){bw.$cctor=a.ignore;bw.Empty={$:0};};by.New=function(bD,bE,bF){return{c:bD,v:bE,f:bF};};bA.OnLoad(function(){c.Main();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
